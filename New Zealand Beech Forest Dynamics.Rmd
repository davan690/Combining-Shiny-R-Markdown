---
title: "Invasive species modelling in New Zealand forests"
author: "Anthony Davidson"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
github-repo: rstudio/bookdown-demo
description: "This is a minimal example of using the bookdown package to write my phd thesis"
---

# Prerequisites

This is a _sample_ book written in **Markdown**. You can use anything that Pandoc's Markdown supports, e.g., a math equation $a^2 + b^2 = c^2$.

The **bookdown** package can be installed from CRAN or Github:

```{r eval=FALSE}
# install.packages("bookdown")
# or the development version
# devtools::install_github("rstudio/bookdown")
library(bookdown)
library(shiny)
```

Remember each Rmd file contains one and only one chapter, and a chapter is defined by the first-level heading `#`.

To compile this example to PDF, you need XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): <https://yihui.name/tinytex/>.

```{r include=FALSE}
# automatically create a bib database for R packages
knitr::write_bib(c(
  .packages(), 'bookdown', 'knitr', 'rmarkdown'
), 'packages.bib')
```

## This template

For this template I have divided the "chapters" into key sections needed to build and troubleshoot bookdown for graduate research projects. The aim of this bookdown is to provide a working archive of code for the `bookdown` package use with the statistics network.

You can reference chapters like so:

- Chapter \@ref(intro)
- Chapter \@ref(methods)
- Chapter \@ref(literature)

## Additional notes

... check out the website for more resources [here](https://www.ssnhub.com)

<!--chapter:end:index.Rmd-->

# Introduction {#intro}

You can label "chapter" (or any top level devision of your documents) and section titles using `{#label}` after them, e.g., we can reference Chapter \@ref(intro). If you do not manually label them, there will be automatic labels anyway, e.g., Chapter \@ref(methods).

Figures and tables with captions will be placed in `figure` and `table` environments, respectively.

```{r nice-fig, fig.cap='Here is a nice figure!', out.width='80%', fig.asp=.75, fig.align='center'}
par(mar = c(4, 4, .1, .1))
plot(pressure, type = 'b', pch = 19)
```

Reference a figure by its code chunk label with the `fig:` prefix, e.g., see Figure \@ref(fig:nice-fig). Similarly, you can reference tables generated from `knitr::kable()`, e.g., see Table \@ref(tab:nice-tab).

```{r nice-tab, tidy=FALSE}
knitr::kable(
  head(iris, 20), caption = 'Here is a nice table!',
  booktabs = TRUE
)
```

You can write citations, too. For example, we are using the **bookdown** package [@R-bookdown] in this sample book, which was built on top of R Markdown and **knitr** [@xie2015].

<!--chapter:end:01-intro.Rmd-->

# Literature

Here is a review of existing methods.

<!--chapter:end:02-literature.Rmd-->

# Methods

We describe our methods in this chapter.

<!--chapter:end:03-method.Rmd-->

# Applications

Some _significant_ applications are demonstrated in this chapter.

## Example one

## Example two

<!--chapter:end:04-application.Rmd-->

# Final Words

We have finished a nice book.

<!--chapter:end:05-summary.Rmd-->

`r if (knitr:::is_html_output()) '
# References {-}
'`

<!--chapter:end:06-references.Rmd-->

---
title: "Combining Shiny & R Markdown"
output: 
  html_document: 
    highlight: textmate
    toc: yes
    toc_float: 
      collapsed: no
    theme: cosmo
---

## Introduction

R is a powerful programming language for statistical computing with many packages and tools.

The goal of this article is to outline some ways to combine Shiny & R Markdown.

We'll cover the main approaches below:

1. **Interactive documents**

2. **Including Markdown content in a Shiny app**

3. **Generating downloadable reports from Shiny apps**

4. **Embedding Shiny apps via their URLs in R Markdown output**

5. **Shiny components in rtutor**

## Interactive Documents - Overview
- R Markdown leverages Shiny at its core to make this possible. Add runtime: shiny to the document’s YAML header.
- [http://rmarkdown.rstudio.com/authoring_shiny.html](http://rmarkdown.rstudio.com/authoring_shiny.html)
- [http://shiny.rstudio.com/articles/interactive-docs.html](http://shiny.rstudio.com/articles/interactive-docs.html)
- [https://blog.rstudio.org/2014/06/19/interactive-documents-an-incredibly-easy-way-to-use-shiny/](https://blog.rstudio.org/2014/06/19/interactive-documents-an-incredibly-easy-way-to-use-shiny/)
- [http://rmarkdown.rstudio.com/flexdashboard/shiny.html](http://rmarkdown.rstudio.com/flexdashboard/shiny.html)
- As of Spring 17 - Shiny apps can’t currently be embedded into R Notebooks.

## Interactive Documents - an R Markdown file that contains Shiny components and can be an app or used within a report

- Types of Interactive Documents:
- 1. RMD Interactive Document/Report with Shiny components 
- Example: Demo by using File > New > RMarkdown > Shiny > Shiny Document
- 2. HTML presentations with Embed Shiny components
- Example: Demo by using File > New > RMarkdown > Shiny > Shiny Presentation
- *1/2 Note*. It is also possible to embed an entire shiny application within an R Markdown document using the `shinyAppDir` function or `shinyAppFile` or source
- http://rmarkdown.rstudio.com/authoring_embedded_shiny.html
- 3. R Markdown report as Shiny app
- Example [https://jjallaire.shinyapps.io/shiny-ggplot2-brushing/](https://jjallaire.shinyapps.io/shiny-ggplot2-brushing/)

## Include Markdown content in a Shiny app - Overview
- It's possible to include files with HTML, text, or Markdown content in a Shiny app.
- [http://shiny.rstudio.com/gallery/including-html-text-and-markdown-files.html](http://shiny.rstudio.com/gallery/including-html-text-and-markdown-files.html)
- The includeMarkdown function requires the markdown package.
- [https://shiny.rstudio.com/reference/shiny/latest/include.html](https://shiny.rstudio.com/reference/shiny/latest/include.html)

## Include Markdown content in a Shiny app - Example
- [https://github.com/abhik1368/openfda-dashboard](https://github.com/abhik1368/openfda-dashboard)
- [https://raw.githubusercontent.com/abhik1368/openfda-dashboard/master/ui.R](https://raw.githubusercontent.com/abhik1368/openfda-dashboard/master/ui.R)
- [https://diabetescheck.shinyapps.io/openfda-dashboard/](https://diabetescheck.shinyapps.io/openfda-dashboard/)

## Generating downloadable reports from Shiny app
- It is often required after interacting with a Shiny application to download a report in HTML or PDF format. This can be done with knitr and rmarkdown. The app takes one input value, and passes it as a parameter to an .Rmd document, which is rendered (or knitted) into an HTML output file.
- [https://shiny.rstudio.com/articles/generating-reports.html](https://shiny.rstudio.com/articles/generating-reports.html)
- [http://shiny.rstudio.com/gallery/download-knitr-reports.html](http://shiny.rstudio.com/gallery/download-knitr-reports.html)
- Another way to generate a PDF is to pass in a value to output_format argument of rmarkdown::render(). It will also require pdflatex to be installed on your system.
- http://shiny.rstudio.com/gallery/download-knitr-reports.html

## Generating downloadable reports from Shiny app - Example

- [https://github.com/aaronjfisher/interAdapt/tree/master/r_package/inst/interAdapt](https://github.com/aaronjfisher/interAdapt/tree/master/r_package/inst/interAdapt)
- [https://michaelrosenblum.shinyapps.io/interAdapt/](https://michaelrosenblum.shinyapps.io/interAdapt/)

## Embedding Shiny apps via their URLs in R Markdown output - Overview

- With the knitr package, the functions knitr::include_url() and include_app() can be used by inserting an iframe or a screenshot/image in the output. iframes are basically a box on one web page to embed another web page. knitr::include_app() was designed for embedding Shiny apps via their URLs in RMD output.
- [https://bookdown.org/yihui/bookdown/web-pages-and-shiny-apps.html](https://bookdown.org/yihui/bookdown/web-pages-and-shiny-apps.html)


## Embedding Shiny apps via their URLs in R Markdown output - Examples

- RMD HTML Output - http://r4ds.had.co.nz/r-markdown-formats.html
- https://bookdown.org/
- http://rmarkdown.rstudio.com/rmarkdown_websites.html
- https://github.com/rstudio/blogdown
  
## Shiny Components in rtutor - Overview & Examples
- rtutor package makes it easy to turn any R Markdown document into an interactive tutorial
- rtutor package uses runtime: shiny_prerendered to turn regular R Markdown documents into live tutorials
- https://rstudio.github.io/rtutor/index.html
- https://rstudio.github.io/rtutor/index.html#shiny_components
- https://rstudio.github.io/rtutor/examples.html

## Further Reading

- http://rmarkdown.rstudio.com/authoring_shiny_prerendered.html
- http://colorado.rstudio.com:3939/content/188/ by Edgar Ruiz
- [http://rmarkdown.rstudio.com/authoring_shiny_advanced.html](http://rmarkdown.rstudio.com/authoring_shiny_advanced.html)

<!--chapter:end:Combining-Shiny-R-Markdown.Rmd-->

---
title: "Untitled"
author: "Phil Bowsher"
date: "4/11/2017"
output: html_document
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

This R Markdown document is made interactive using Shiny. Unlike the more traditional workflow of creating static reports, you can now create documents that allow your readers to change the assumptions underlying your analysis and see the results immediately. 

To learn more, see [Interactive Documents](http://rmarkdown.rstudio.com/authoring_shiny.html).

## Embedded Application

It's also possible to embed an entire Shiny application within an R Markdown document using the `shinyAppDir` function. This example embeds a Shiny application located in another directory:

```{r tabsets, echo=FALSE}
shinyAppDir(
  system.file("examples/06_tabsets", package = "shiny"),
  options = list(
    width = "100%", height = 550
  )
)
```

Note the use of the `height` parameter to determine how much vertical space the embedded application should occupy.

You can also use the `shinyApp` function to define an application inline rather then in an external directory.

In all of R code chunks above the `echo = FALSE` attribute is used. This is to prevent the R code within the chunk from rendering in the document alongside the Shiny components.




<!--chapter:end:Example.Rmd-->

